<?xml version="1.0" encoding="UTF-8"?>
<tasks>

    <task name="AttendCalendarTask" 
          class="richinfo.attendance.task.AttendCalendarTask">
        <desc>保存公共日历数据</desc>        
    </task>   

    <task name="employeeMonthDetailTask" 
          class="richinfo.attendance.task.EmployeeMonthDetailTask">
        <desc>员工个人月报明细统计</desc>        
    </task>       

	<task name="teamDailyReportTask" 
          class="richinfo.attendance.task.TeamDailyTask">
        <desc>团队日报统计</desc>        
    </task>	
	
	<task name="teamMonthReportTask" 
          class="richinfo.attendance.task.TeamMonthReportTask">
        <desc>团队月报统计</desc>        
    </task>

    <task name="messageTask"
          class="richinfo.attendance.task.MessageTask">
        <desc>考勤打卡提醒待发消息任务</desc>
    </task>

    <task name="schedule-send-task"
          class="richinfo.attendance.task.ScheduleMsgSendTask">
        <desc>定时消息发送任务</desc>
    </task>	
    
    <task name="downLoadTempFile-del-task"
          class="richinfo.attendance.task.DownLoadTempFileDelTask">
        <desc>删除导出报表产生的临时文件任务</desc>
    </task>    


    <!-- 定时任务 -->
	
    <timer>                    
        <cron>12 17 25 12 *</cron>     
        <task-ref ref="AttendCalendarTask" />
    </timer> 
	
    <timer>                    
        <cron>11 09 * * *</cron>
        <cron>00 11 * * *</cron>
        <cron>00 20 * * *</cron>
        <cron>00 00 * * *</cron>
        <task-ref ref="employeeMonthDetailTask" />
    </timer> 	
	<timer>                    
        <cron>00 4 * * *</cron>     
        <task-ref ref="teamDailyReportTask" />
    </timer> 
	
	<timer>                    
        <cron>30 4 * * *</cron>     
        <task-ref ref="teamMonthReportTask" />
    </timer> 

    <timer>  
        <cron>30 01 * * *</cron>
        <task-ref ref="messageTask" />
    </timer> 

    <timer>        
        <repeat-interval>1m</repeat-interval>
        <fail-retry-times>2</fail-retry-times>    
        <task-ref ref="schedule-send-task" />
    </timer>

    <timer>
        <repeat-interval>1h</repeat-interval>
        <fail-retry-times>2</fail-retry-times>
        <task-ref ref="downLoadTempFile-del-task" />
    </timer>
</tasks>
